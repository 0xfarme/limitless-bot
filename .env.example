# ========= RPC Configuration =========
# Multiple RPC URLs for fallback (comma-separated)
RPC_URL=https://rpc.ankr.com/base,https://base.llamarpc.com,https://mainnet.base.org
CHAIN_ID=8453

# ========= Market Selection =========
# Comma-separated oracle IDs to monitor
PRICE_ORACLE_ID=58,59,60,61
FREQUENCY=hourly

# ========= Wallet Configuration =========
# Comma-separated private keys (with or without 0x prefix)
PRIVATE_KEYS=your_private_key_here

# ========= Trading Parameters =========
# Default buy amount (used if strategy-specific amounts not set)
BUY_AMOUNT_USDC=25

# Strategy-specific buy amounts (optional - override BUY_AMOUNT_USDC)
# LATE_BUY_AMOUNT_USDC=25         # Late window trades

SLIPPAGE_BPS=100
POLL_INTERVAL_MS=10000

# ========= Profit Taking Settings (Strategy-Specific) =========
# IMPORTANT: Profit-taking is configured independently per strategy
# Each strategy has its own profit target and sell logic

# Master switch (applies to strategies that don't have independent sell logic)
AUTO_PROFIT_SELL_ENABLED=false      # Global toggle for profit-taking (false = all positions hold to redemption)

# Late Strategy profit target (only if AUTO_PROFIT_SELL_ENABLED=true)
TARGET_PROFIT_PCT=50                # Sell late positions when profit >= 50%

# Contrarian profit target (independent of AUTO_PROFIT_SELL_ENABLED)
CONTRARIAN_PROFIT_TARGET_PCT=400    # Sell contrarian at +400% profit (5X return, holds if losing)

# Moonshot profit target (independent of AUTO_PROFIT_SELL_ENABLED)
MOONSHOT_PROFIT_TARGET_PCT=1000     # Sell moonshot at 1000% profit (10x return)

# Quick Scalp profit-taking (independent of AUTO_PROFIT_SELL_ENABLED) - DISABLED BY DEFAULT
QUICK_SCALP_HOLD_MODE=true          # true = hold to expiry, false = sell at profit target
QUICK_SCALP_PROFIT_MULTIPLIER=2     # [If hold mode=false] Sell when odds reach Nx entry (e.g., 2x: buy 15% → sell at 30%)

# ========= Gas Configuration =========
MAX_GAS_ETH=0.015
GAS_PRICE_GWEI=0.005
CONFIRMATIONS=1

# ========= Timing Settings (Late Strategy) =========
# Last N minutes before deadline to allow late strategy buys
BUY_WINDOW_MINUTES=12
# Don't buy in the final N minutes (moonshot ignores this)
NO_BUY_FINAL_MINUTES=2
# Don't buy markets younger than N minutes
MIN_MARKET_AGE_MINUTES=10

# ========= Odds Configuration (Late Strategy) =========
MIN_ODDS=82
MAX_ODDS=98

# ========= Time-Based Odds Windows (Late Strategy) =========
# Enable time-based odds windows instead of simple MIN_ODDS/MAX_ODDS
TIME_BASED_ODDS_ENABLED=false

# Window 1: Earlier late window (e.g., minutes 40-50)
LATE_WINDOW_1_START=40
LATE_WINDOW_1_END=50
LATE_WINDOW_1_MIN_ODDS=70
LATE_WINDOW_1_MAX_ODDS=95

# Window 2: Final late window (e.g., minutes 50-59)
LATE_WINDOW_2_START=50
LATE_WINDOW_2_END=59
LATE_WINDOW_2_MIN_ODDS=75
LATE_WINDOW_2_MAX_ODDS=90

# ========= Scale-In Strategy (Late Strategy) =========
# Split your position into multiple entries for dollar-cost averaging
SCALE_IN_ENABLED=false
# Number of scale-in positions (e.g., 2 = split $10 into 2x $5 entries)
SCALE_IN_POSITIONS=2
# Trigger next scale-in when odds drop by this % from initial entry
SCALE_IN_DROP_PCT=10

# ========= Stop Loss Settings =========
STOP_LOSS_ENABLED=false
# Sell if PnL drops below this percentage
STOP_LOSS_PNL_PCT=-50
# Stop loss active in last N minutes
STOP_LOSS_MINUTES=2

# ========= Trading Strategies =========
# Execution Order: Contrarian (10-30min) → Late (48-60min) → Moonshot (56-60min)

# ========= STRATEGY 1: Contrarian (Mean Reversion) =========
# Buy the underdog when odds are extreme (92-98%), sell at 5X profit or hold if losing
# Time-based windows: Buy :10-:30, Sell :10-:45 of every hour
# Example: At 18:20, if YES is 95%, buy NO at 5% → sell if reaches 25% (5X)
CONTRARIAN_ENABLED=true
CONTRARIAN_BUY_WINDOW_START_END=10-30  # Buy window (minutes :10-:30 of every hour)
CONTRARIAN_SELL_WINDOW_END=45          # Sell window ends at minute :45 (sells :10-:45 if profitable)
CONTRARIAN_MIN_ODDS_MAX_ODDS=92-98     # Buy when strong side is 92-98% (buys opposite at 2-8%)
CONTRARIAN_AMOUNT_USDC=25              # Amount to invest per contrarian trade
# Note: Profit target set in "Profit Taking Settings" section above (400% = 5X)
# If in loss, position is held (no stop loss) and carried to late window.
# Late strategy will skip buying if contrarian position exists on same side.

# ========= STRATEGY 2: Late Window =========
# Buy strong side (82-98%) in last 12 minutes before market expiry
# Skips if contrarian position exists on same side (allows carrying losing positions)
LATE_STRATEGY_ENABLED=true
BUY_WINDOW_MINUTES=12                  # Last 12 minutes before deadline
BUY_AMOUNT_USDC=10                     # Late position amount (independent from contrarian)

# ========= STRATEGY 3: Moonshot (Independent Mode) =========
# Buys extreme underdog (0-5% odds) in last 4 minutes before market expiry
# Two modes:
# 1. Independent mode (recommended): Buys lowest odds side without requiring existing position
# 2. Hedge mode: Requires contrarian/late position, buys opposite side as hedge
MOONSHOT_ENABLED=true
MOONSHOT_INDEPENDENT=true           # true = runs standalone (no position needed) - RECOMMENDED
MOONSHOT_WINDOW_MINUTES=4           # Active in last 4 minutes (ignores NO_BUY_FINAL_MINUTES)
MOONSHOT_MAX_ODDS=5                 # Only buy if underdog <= 5% (e.g., when strong side is 95-100%)
MOONSHOT_AMOUNT_USDC=1              # Total investment (split across max trades below)
MOONSHOT_MAX_TRADES_PER_MARKET=3    # Max trades per market (e.g., $1 total = 3x $0.33 entries)
MOONSHOT_FINAL_SECONDS_BUFFER=15    # Don't buy in final N seconds of the hour (safety buffer)
# Note: Profit target set in "Profit Taking Settings" section above (1000% = 10X)

# Hedge mode settings (only used if MOONSHOT_INDEPENDENT=false)
MOONSHOT_MIN_LATE_ODDS=95           # [Hedge mode only] Require existing position >= 95%
MOONSHOT_MAX_LATE_ODDS=99.5         # [Hedge mode only] Require existing position <= 99.5%

# ========= DISABLED STRATEGIES =========

# Quick Scalp (Early Entry Strategy) - DISABLED BY DEFAULT
QUICK_SCALP_ENABLED=false
QUICK_SCALP_HOLD_MODE=false            # true = hold to expiry, false = take profits at multiplier
QUICK_SCALP_WINDOW_MINUTES=40          # Active in first N minutes of market creation
QUICK_SCALP_MIN_ENTRY_ODDS=5           # [Scalp mode] Min odds to enter (e.g., 5%)
QUICK_SCALP_MAX_ENTRY_ODDS=30          # [Hold mode] When strong side is 55-85%, buy OPPOSITE (weak) side
QUICK_SCALP_PROFIT_MULTIPLIER=2        # [Scalp mode only] Sell when odds reach Nx entry (e.g., buy 10% → sell 20%)
QUICK_SCALP_AMOUNT_USDC=10             # Amount to invest per scalp trade
QUICK_SCALP_MAX_TRADES_PER_MARKET=1    # Max trades per market (use 1 for hold mode)

# ========= Redemption Settings =========
AUTO_REDEEM_ENABLED=true
REDEEM_WINDOW_START=6
REDEEM_WINDOW_END=10
