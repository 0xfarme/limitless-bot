# ========================================
# NETWORK & RPC SETTINGS
# ========================================
RPC_URL=https://mainnet.base.org
CHAIN_ID=8453

# ========================================
# MARKET CONFIGURATION
# ========================================
# Multiple markets for volume (comma-separated oracle IDs)
PRICE_ORACLE_IDS=58,59
FREQUENCY=hourly

# ========================================
# WALLET SETTINGS
# ========================================
# Comma-separated private keys (without 0x prefix)
PRIVATE_KEYS=

# ========================================
# SIMULATION MODE (NEW!)
# ========================================
# Enable simulation to test strategies with real market data WITHOUT executing trades
SIMULATION_MODE=false
SIMULATION_BALANCE_USDC=100

# ========================================
# POSITION SIZING & LIMITS
# ========================================
BUY_AMOUNT_USDC=2
MAX_CONCURRENT_POSITIONS=5

# ========================================
# CORE STRATEGY
# ========================================
# Strategy modes: dominant, opposite, hybrid (NEW!)
# - dominant: Buy side >= TRIGGER_PCT (momentum)
# - opposite: Buy opposite when near TRIGGER_PCT (mean reversion)
# - hybrid: Switches based on time (early=opposite, late=dominant)
STRATEGY_MODE=hybrid

TRIGGER_PCT=55
TRIGGER_BAND=5

# Exit targets
TARGET_PROFIT_PCT=12
STOP_LOSS_PCT=-8

# ========================================
# TRAILING STOP LOSS
# ========================================
# Once position hits TARGET_PROFIT_PCT, trailing stop activates
# Sells if price drops TRAILING_DISTANCE_PCT from peak
# Example: Hit 12% profit, peak rises to 15%, trailing stop at 12% (15% - 3%)
TRAILING_DISTANCE_PCT=3            # 3% drop from peak triggers exit

# ========================================
# TIME-BASED RISK MANAGEMENT (ENHANCED)
# ========================================
# Market age: Reduced to 3 minutes (from 10) to catch early momentum
# Exit timing: Dynamic profit targets based on time remaining
MIN_TIME_TO_ENTER_MINUTES=20       # Don't enter with <20min left
MIN_TIME_TO_EXIT_MINUTES=5         # Force exit at 5min remaining
TIME_DECAY_THRESHOLD_MINUTES=15    # Start tightening targets at 15min
ENABLE_TIME_BASED_EXITS=true       # Enable time-based force exits

# ========================================
# EXECUTION SETTINGS
# ========================================
POLL_INTERVAL_MS=10000
SLIPPAGE_BPS=150                   # 1.5% slippage tolerance
MAX_GAS_ETH=0.015
GAS_PRICE_GWEI=0.005
CONFIRMATIONS=1

# ========================================
# FILE PATHS (optional, defaults used if not set)
# ========================================
STATE_FILE=data/state.json
TRADES_LOG_FILE=data/trades.log
TRADES_CSV_FILE=data/trades.csv
SUMMARY_FILE=data/summary.json
ANALYTICS_FILE=data/analytics.json
FAILED_EXITS_FILE=data/failed_exits.json

# ========================================
# EXAMPLE CONFIGURATIONS
# ========================================

# Conservative Setup:
# BUY_AMOUNT_USDC=1
# MAX_CONCURRENT_POSITIONS=2
# TARGET_PROFIT_PCT=8
# STOP_LOSS_PCT=-5
# ENABLE_PARTIAL_EXITS=true
# TRAILING_DISTANCE_PCT=4

# Aggressive Setup:
# BUY_AMOUNT_USDC=5
# MAX_CONCURRENT_POSITIONS=5
# TARGET_PROFIT_PCT=15
# STOP_LOSS_PCT=-10
# STRATEGY_MODE=dominant
# TRAILING_DISTANCE_PCT=6

# Simulation Testing:
# SIMULATION_MODE=true
# SIMULATION_BALANCE_USDC=1000
# STRATEGY_MODE=hybrid
# ENABLE_PARTIAL_EXITS=true
# ENABLE_TRAILING_PROFIT=true

# ========================================
# LONG-TERM BOT (DAILY/WEEKLY MARKETS)
# ========================================
# Run with: node src/long-term-bot.js

# Frequency: 'daily' or 'weekly'
LONG_TERM_FREQUENCY=daily

# Poll interval (1 min recommended for long-term)
LONG_TERM_POLL_INTERVAL_MS=60000

# Position sizing
LONG_TERM_BUY_AMOUNT_USDC=10

# Exit targets
LONG_TERM_TARGET_PROFIT_PCT=15
LONG_TERM_STOP_LOSS_PCT=-10

# State files
LONG_TERM_STATE_FILE=data/long-term-state.json
LONG_TERM_TRADES_LOG_FILE=data/long-term-trades.log

# Hybrid Strategy Phases (auto-configured based on FREQUENCY):
#
# DAILY (24 hours):
#   - Early phase (0-18h): 8% trailing stop, no hard stop loss
#   - Mid phase (18-22h): 5% trailing stop, tightening
#   - Final phase (22-24h): 3% trailing stop + hard stop loss active
#
# WEEKLY (7 days):
#   - Early phase (0-5.5d): 10% trailing stop, no hard stop loss
#   - Mid phase (5.5-6.5d): 7% trailing stop, tightening
#   - Final phase (6.5-7d): 5% trailing stop + hard stop loss active
