# ========= RPC Configuration =========
# Multiple RPC URLs for fallback (comma-separated)
RPC_URL=https://rpc.ankr.com/base,https://base.llamarpc.com,https://mainnet.base.org
CHAIN_ID=8453

# ========= Market Selection =========
# Comma-separated oracle IDs to monitor
PRICE_ORACLE_ID=58,59,60,61
FREQUENCY=hourly

# ========= Wallet Configuration =========
# Comma-separated private keys (with or without 0x prefix)
PRIVATE_KEYS=your_private_key_here

# ========= Trading Parameters =========
# Default buy amount (used if strategy-specific amounts not set)
BUY_AMOUNT_USDC=25

# Strategy-specific buy amounts (optional - override BUY_AMOUNT_USDC)
# LATE_BUY_AMOUNT_USDC=25         # Late window trades

SLIPPAGE_BPS=100
POLL_INTERVAL_MS=10000

# ========= Profit Taking Settings (Strategy-Specific) =========
# IMPORTANT: Profit-taking is configured independently per strategy
# Each strategy has its own profit target and sell logic

# Master switch (applies to strategies that don't have independent sell logic)
AUTO_PROFIT_SELL_ENABLED=false      # Global toggle for profit-taking (false = all positions hold to redemption)

# Late Strategy profit target (only if AUTO_PROFIT_SELL_ENABLED=true)
TARGET_PROFIT_PCT=50                # Sell late positions when profit >= 50%

# Quick Scalp profit-taking (independent of AUTO_PROFIT_SELL_ENABLED)
QUICK_SCALP_HOLD_MODE=true          # true = hold to expiry, false = sell at profit target
QUICK_SCALP_PROFIT_MULTIPLIER=2     # [If hold mode=false] Sell when odds reach Nx entry (e.g., 2x: buy 15% → sell at 30%)

# Contrarian profit target (independent of AUTO_PROFIT_SELL_ENABLED)
CONTRARIAN_PROFIT_TARGET_PCT=30     # Sell contrarian positions at +30% profit (holds if losing)

# Moonshot profit target (independent of AUTO_PROFIT_SELL_ENABLED)
MOONSHOT_PROFIT_TARGET_PCT=1000     # Sell moonshot at 1000% profit (10x return)

# ========= Gas Configuration =========
MAX_GAS_ETH=0.015
GAS_PRICE_GWEI=0.005
CONFIRMATIONS=1

# ========= Timing Settings =========
# Last N minutes before deadline to allow buys
BUY_WINDOW_MINUTES=13
# Don't buy in the final N minutes
NO_BUY_FINAL_MINUTES=2
# Don't buy markets younger than N minutes
MIN_MARKET_AGE_MINUTES=10

# ========= Odds Configuration =========
MIN_ODDS=75
MAX_ODDS=95

# ========= Time-Based Odds Windows (Late Strategy) =========
# Enable time-based odds windows instead of simple MIN_ODDS/MAX_ODDS
TIME_BASED_ODDS_ENABLED=false

# Window 1: Earlier late window (e.g., minutes 40-50)
LATE_WINDOW_1_START=40
LATE_WINDOW_1_END=50
LATE_WINDOW_1_MIN_ODDS=70
LATE_WINDOW_1_MAX_ODDS=95

# Window 2: Final late window (e.g., minutes 50-59)
LATE_WINDOW_2_START=50
LATE_WINDOW_2_END=59
LATE_WINDOW_2_MIN_ODDS=75
LATE_WINDOW_2_MAX_ODDS=90

# ========= Scale-In Strategy (Late Strategy) =========
# Split your position into multiple entries for dollar-cost averaging
SCALE_IN_ENABLED=false
# Number of scale-in positions (e.g., 2 = split $10 into 2x $5 entries)
SCALE_IN_POSITIONS=2
# Trigger next scale-in when odds drop by this % from initial entry
SCALE_IN_DROP_PCT=10

# ========= Stop Loss Settings =========
STOP_LOSS_ENABLED=false
# Sell if PnL drops below this percentage
STOP_LOSS_PNL_PCT=-50
# Stop loss active in last N minutes
STOP_LOSS_MINUTES=2

# ========= Trading Strategies =========
# Late Window Strategy (buy strong side in last 13 minutes)
LATE_STRATEGY_ENABLED=true

# ========= Quick Scalp Strategy (Early Market Arbitrage) =========
# Two modes:
# 1. Hold mode (true): Contrarian entry on weak side, hold to expiry for moonshot hedge
# 2. Scalp mode (false): Buy low odds (5-30%), sell when odds double (profit multiplier)
QUICK_SCALP_ENABLED=false
QUICK_SCALP_HOLD_MODE=false            # true = hold to expiry, false = take profits at multiplier
QUICK_SCALP_WINDOW_MINUTES=40          # Active in first N minutes of market creation
QUICK_SCALP_MIN_ENTRY_ODDS=5           # [Scalp mode] Min odds to enter (e.g., 5%)
QUICK_SCALP_MAX_ENTRY_ODDS=30          # [Hold mode] When strong side is 55-85%, buy OPPOSITE (weak) side
QUICK_SCALP_PROFIT_MULTIPLIER=2        # [Scalp mode only] Sell when odds reach Nx entry (e.g., buy 10% → sell 20%)
QUICK_SCALP_AMOUNT_USDC=10             # Amount to invest per scalp trade
QUICK_SCALP_MAX_TRADES_PER_MARKET=1    # Max trades per market (use 1 for hold mode)

# ========= Contrarian Strategy (Mean Reversion) =========
# Buy the underdog when odds are extreme, sell on profit, hold on loss
# Time-based windows (e.g., :10-:30 and :10-:45 of every hour)
# Example: At 18:20, if YES is 90%, buy NO at 10%
CONTRARIAN_ENABLED=false
CONTRARIAN_BUY_WINDOW_START_END=10-30  # Buy window (minutes of hour, e.g., :10-:30 = 10th to 30th minute)
CONTRARIAN_SELL_WINDOW_END=45          # Sell window ends at minute N (e.g., 45 = sells from :10-:45 if profitable)
CONTRARIAN_MIN_ODDS_MAX_ODDS=85-98     # Odds range on strong side to trigger (format: MIN-MAX, buys opposite)
CONTRARIAN_AMOUNT_USDC=10              # Amount to invest per contrarian trade
CONTRARIAN_PROFIT_TARGET_PCT=30        # Sell when profit reaches N%
# Note: If in loss, position is held (no stop loss). Late/Moonshot strategies will avoid
# buying the same side as a losing contrarian position to prevent doubling down.

# ========= Moonshot Strategy =========
# Two modes:
# 1. Hedge mode (default): Requires late/quick_scalp position, buys opposite side as hedge
# 2. Independent mode: Buys lowest odds side in last N minutes (no position needed)
MOONSHOT_ENABLED=true
MOONSHOT_INDEPENDENT=false          # If true, runs standalone (buys underdog in last N minutes)
MOONSHOT_WINDOW_MINUTES=2           # Moonshot active in last N minutes (ignores NO_BUY_FINAL_MINUTES)
MOONSHOT_MAX_ODDS=10                # Only buy if target side <= this % (supports decimals, e.g., 10.5)
MOONSHOT_MIN_LATE_ODDS=70           # [Hedge mode only] Require existing position >= this % (supports decimals)
MOONSHOT_MAX_LATE_ODDS=95           # [Hedge mode only] Require existing position <= this % (e.g., 99.5)
MOONSHOT_AMOUNT_USDC=1              # Total moonshot investment (split across max trades)
MOONSHOT_MAX_TRADES_PER_MARKET=3    # Max moonshot trades per market (e.g., 3 = split $3 into 3x $1)
MOONSHOT_PROFIT_TARGET_PCT=100      # Sell at 100% profit (2x return)
MOONSHOT_FINAL_SECONDS_BUFFER=15    # Don't buy in final N seconds of the hour (safety buffer)

# ========= Redemption Settings =========
AUTO_REDEEM_ENABLED=true
REDEEM_WINDOW_START=6
REDEEM_WINDOW_END=10
